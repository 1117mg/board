<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ê²Œì‹œíŒ ë©”ì¸ - íƒ€ì„ë¦¬í”„</title>
    <style>
        .button-container {
            margin-top: 20px;
        }
        .button-container input {
            margin-right: 10px;
        }
        a.board-title {
            text-decoration: none;
            color:dimgrey;
        }
        a.board-title:hover {
            color: black;
        }
        .reply {
            color: blue;
            font-size: smaller;
            font-weight: bolder;
        }
    </style>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/aside.css">
</head>
</head>
<body>
<aside class="side-bar">
    <section class="side-bar__icon-box">
        <section class="side-bar__icon-1">
            <div></div>
            <div></div>
            <div></div>
        </section>
    </section>
    <ul>
        <li>
            <a th:href="@{/user/main}">
                <span><i class="fa-solid fa-cat"></i></span>
                <span>íšŒì› ê´€ë¦¬</span>
            </a>
            <ul>
                <li><a th:href="@{/user/main}">íšŒì› ëª©ë¡</a></li>
            </ul>
        </li>
        <li>
            <a th:href="@{/main}">
                <span><i class="fa-solid fa-dragon"></i></span>
                <span>ê²Œì‹œíŒ ê´€ë¦¬</span>
            </a>
            <ul>
                <li><a th:href="@{/0/main}">ê³µì§€ì‚¬í•­ ê²Œì‹œíŒ</a></li>
                <li><a th:href="@{/1/main}">QnA ê²Œì‹œíŒ</a></li>
            </ul>
        </li>
    </ul>
    <!-- ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ ì¶”ê°€ -->
    <div class="side-bar__login">
        <div th:if="${#httpServletRequest.remoteUser != null}" class="text-center">
            <span th:text="${#httpServletRequest.remoteUser}">ã…‡ã…‡ã…‡</span> ë‹˜ í™˜ì˜í•©ë‹ˆë‹¤!<br><br>
        </div>
        <div th:if="${#httpServletRequest.remoteUser != null}" class="text-center">
            <!-- ì‚¬ìš©ìê°€ ë¡œê·¸ì¸í•œ ê²½ìš° -->
            <input type="button" value="ë¡œê·¸ì•„ì›ƒ" onclick="location.href='/logout'" class="btn btn-danger">
        </div>
        <div th:if="${#httpServletRequest.remoteUser == null}" class="text-center">
            <!-- ì‚¬ìš©ìê°€ ë¡œê·¸ì¸í•˜ì§€ ì•Šì€ ê²½ìš° -->
            <input type="button" value="ë¡œê·¸ì¸" onclick="location.href='/login'" class="btn btn-primary">
            <input type="button" value="íšŒì›ê°€ì…" onclick="location.href='/join'" class="btn btn-success">
        </div>
    </div>
</aside>
<div class="content-area">
<div th:if="${boardType==0}">
    <div class="py-5 text-center">
        <h1>ê³µì§€ì‚¬í•­ ê²Œì‹œíŒ</h1>
    </div>
</div>
<div th:if="${boardType==1}">
    <div class="py-5 text-center">
        <h1>QnA ê²Œì‹œíŒ</h1>
    </div>
</div>

<!--ê²Œì‹œíŒ ì´ <span th:text="${cntBoard}">0</span> ê°œ<br>-->
<table>
    <thead>
    <tr>
        <th class="one wide">ë²ˆí˜¸</th>
        <th class="ten wide">ê¸€ì œëª©</th>
        <th class="two wide">ì‘ì„±ì</th>
        <th class="three wide">ì‘ì„±ì¼</th>
        <th class="four wide">ì¡°íšŒìˆ˜</th>
    </tr>
    </thead>

    <tbody>
    <tr th:each="board : ${board}">
        <td><span th:text="${board.bno}">1</span></td>
        <td>
            <a th:href="@{board/{bno}(bno=${board.bno})}"  class="board-title">
                <span th:if="${board.depth > 0}" th:each="i : ${#numbers.sequence(1, board.depth)}" class="reply">&nbsp;â†ªRE:</span>
                <span th:text="${board.title}">ì œëª©</span>
                <span th:if="${board.new}" class="new">ğŸ†•</span>
            </a>
        </td>
        <td><span th:text="${board.writer}">ì‘ì„±ì</span></td>
        <td><span th:text="${board.regdate}">ì‘ì„±ì¼</span></td>
        <td><span th:text="${board.hit}">ì¡°íšŒìˆ˜</span></td>
    </tr>
    </tbody>
</table>
    <div class="button-container">
        <div th:if="${#httpServletRequest.remoteUser != null}">
            <!-- ì‚¬ìš©ìê°€ ë¡œê·¸ì¸í•œ ê²½ìš° -->
            <input type="button" value="ê¸€ ì‘ì„±" onclick="location.href='write'" class="btn btn-primary">
        </div>
    </div>
<br>
<!-- í˜ì´ì§• ì²˜ë¦¬ ì‹œì‘ -->
<div class="col-sm-12 col-md-7" style="margin: auto">
    <nav aria-label="Page navigation example">
        <ul class="pagination justify-content-center">
            <li th:if="${paginate != null}">
                <!-- ì´ì „ í˜ì´ì§€ ë§í¬ -->
            <li class="page-item" th:classappend="${paginate.nationBegin <= 1} ? 'disabled'">
                <a class="page-link" th:if="${paginate.nationBegin > 1}" th:href="@{'/' + ${boardType} + '/main' + '?' + ${paginate.params} + '&' + ${paginate.pageName} + '=' + (${paginate.nationBegin - 1})}" aria-label="Previous">
                    <span aria-hidden="true">&laquo; ì´ì „</span>
                </a>
                <a class="page-link disabled" th:if="${paginate.nationBegin <= 1}">
                    <span aria-hidden="true">&laquo; ì´ì „</span>
                </a>
            </li>

            <!-- í˜ì´ì§€ ë²ˆí˜¸ ë§í¬ -->
            <li th:each="pageNum : ${#numbers.sequence(paginate.nationBegin, paginate.nationClose)}" class="page-item" th:classappend="${pageNum == paginate.pageNo} ? 'active'">
                <a class="page-link" th:href="@{'/' + ${boardType} + '/main' + '?' + ${paginate.params} + '&' + ${paginate.pageName} + '=' + ${pageNum}}" th:text="${pageNum}">1</a>
            </li>

            <!-- ë‹¤ìŒ í˜ì´ì§€ ë§í¬ -->
            <li class="page-item" th:classappend="${paginate.nationClose >= paginate.totalPage} ? 'disabled'">
                <a class="page-link" th:if="${paginate.nationClose < paginate.totalPage}" th:href="@{'/' + ${boardType} + '/main' + '?' + ${paginate.params} + '&' + ${paginate.pageName} + '=' + (${paginate.nationClose + 1})}" aria-label="Next">
                    <span aria-hidden="true">ë‹¤ìŒ &raquo;</span>
                </a>
                <a class="page-link disabled" th:if="${paginate.nationClose >= paginate.totalPage}">
                    <span aria-hidden="true">ë‹¤ìŒ &raquo;</span>
                </a>
            </li>
            </li>
        </ul>
    </nav>
</div>
</div>
</body>
</html>